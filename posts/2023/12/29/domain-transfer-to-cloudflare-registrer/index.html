<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet type=text/css href=https://fukasawah.github.io/css/theme.min.95e92366236e3eeadc2635f8c1c7b97ec3640de0147fa10ee1d281d56d40ee1aeb2c76977676599f543a2a682fd96d8cb9633a4fc700e537e46f8ba9d58df9f2.css integrity="sha512-lekjZiNuPurcJjX4wce5fsNkDeAUf6EO4dKB1W1A7hrrLHaXdnZZn1Q6Kmgv2W2MuWM6T8cA5Tfkb4up1Y358g=="><link rel=stylesheet href=https://fukasawah.github.io/css/syntax.min.9d0044b0ce135aff3405271be2a17805c5ae03ec48f146191dc4b30923424c76fe7c6086323aa2cbf83affd41e11fef907f33b6cd685fe3645043bb79f63509a.css integrity="sha512-nQBEsM4TWv80BScb4qF4BcWuA+xI8UYZHcSzCSNCTHb+fGCGMjqiy/g6/9QeEf75B/M7bNaF/jZFBDu3n2NQmg==" media=print onload='this.media="all"'><noscript><link rel=stylesheet type=text/css href=https://fukasawah.github.io/css/syntax.min.9d0044b0ce135aff3405271be2a17805c5ae03ec48f146191dc4b30923424c76fe7c6086323aa2cbf83affd41e11fef907f33b6cd685fe3645043bb79f63509a.css integrity="sha512-nQBEsM4TWv80BScb4qF4BcWuA+xI8UYZHcSzCSNCTHb+fGCGMjqiy/g6/9QeEf75B/M7bNaF/jZFBDu3n2NQmg=="></noscript><title>Cloudflare Registrerに旧Google Domainsのドメインを移管 | fukasawah.github.io</title></head><body><header><p><a href=https://fukasawah.github.io/>fukasawah.github.io</a></p></header><main><article><header><h1>Cloudflare Registrerに旧Google Domainsのドメインを移管</h1></header><aside class=toc><nav id=TableOfContents><ul><li><a href=#手順>手順</a><ul><li><a href=#cloudflareアカウントを作る>Cloudflareアカウントを作る</a></li><li><a href=#webサイトを追加する>Webサイトを追加する</a></li><li><a href=#移管>移管</a></li></ul></li><li><a href=#蛇足>蛇足</a><ul><li><a href=#cloudflareでドメイン絡みで何ができるか>Cloudflareでドメイン絡みで何ができるか？</a></li><li><a href=#whoisを確認してみた>whoisを確認してみた</a></li></ul></li></ul></nav></aside><p>Google domainで取ったfukasawah.devというドメインがなんかよくわからない所に移されてしまうらしい。そういえばドメインの移管というのをやったことないな、と思ったので試してみたいと思った。国内のドメインレジストラはなんかぱっとしなかったので、Cloudflareのモノを試してみることにした。</p><p>先に注意として、<a href=https://www.cloudflare.com/plans/>Cloudflareにおけるカスタムネームサーバ機能は要Businessプラン(有料)</a>なので、これも利用したいなら、他のレジストラにしたほうがよい。</p><p><figure><a href=images/index/2023-12-29-21-55-13.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-55-13_hu1750aaec068c7c8b62fcd14d61e2acd0_34883_500x500_fit_q80_h2_box_3.webp width=500 height=244><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-55-13_hu1750aaec068c7c8b62fcd14d61e2acd0_34883_500x500_fit_q80_bgffffff_box_3.jpg width=500 height=244 loading=lazy></picture></a></figure></p><h2 id=手順>手順</h2><p>以下の手順を見ながらやったが、結構アドリブが必要だったり待ち時間があったりで1時間ぐらいかかった。</p><p><a href=https://developers.cloudflare.com/registrar/get-started/transfer-domain-to-cloudflare/>https://developers.cloudflare.com/registrar/get-started/transfer-domain-to-cloudflare/</a></p><h3 id=cloudflareアカウントを作る>Cloudflareアカウントを作る</h3><p>手順で「<a href=https://developers.cloudflare.com/fundamentals/setup/account-setup/create-account/>Create a Cloudflare account.</a>」とあるので従う。</p><p>メールアドレスとパスワードを入れて作成。メールが来るので認証を済ませるだけ。</p><p>ついでに<a href=https://dash.cloudflare.com/profile/authentication>2段階認証</a>も設定し、日本語化もする。</p><p>BestPracticeでチームやビジネス用ならエイリアス（メーリングリスト）を使え、とある。</p><p>エイリアスと聞いて余計なことを思い出したのでそれをすることにした。私はOutlookをフリーメールとして使っており、ここは「サブアドレス指定, プラスアドレス機能」というのが使える。<code>account@hotmail.com</code>のエイリアスとして<code>account+alias1@hotmail.com</code>というようなアドレスを作業無しで作ることができる。ちなみに、これとは別に「エイリアスの追加」という別のメールアドレス（例えば<code>alias2@outlook.jp</code>）をエイリアスに使うこともできる（こちらは<a href=https://account.live.com/AddAssocId>ここ</a>で設定作業が必要）なので、<code>account+cloudflare@hotmail.com</code>みたいなアドレスを登録することにした。なんかあったら戻す。</p><h3 id=webサイトを追加する>Webサイトを追加する</h3><p><a href=https://developers.cloudflare.com/fundamentals/setup/account-setup/add-site/>https://developers.cloudflare.com/fundamentals/setup/account-setup/add-site/</a></p><p>別にWebサイトとして使いたいわけじゃないんだけどな、と思いつつもとりあえず作業する。</p><p>まず移管する予定のドメインで登録。</p><p>プラン選択を要求される。ドメイン移管したいだけなので、まだ他の機能を使うつもりはないため、Freeプランを選択。</p><p>「～ DNS レコードを追加する」という作業があるが、何もしなくてよさそう。</p><blockquote><p>レコードを後で追加する</p><p>DNS レコードなしでは、Cloudflare はサイトをアクティブにすることができません。DNS レコードを今すぐ設定する必要があります。</p></blockquote><p>と警告が出てくるが、一旦無視。</p><p>「ネームサーバーを変更する」でCloudflare registrerのネームサーバが表示される。
Google domainsではカスタムDNSサーバを設定できるので、これを設定する。今はAzure DNSに向けている状態だったので、Cloudflare registrerのほうにむける必要がある。</p><p>Cloudflareはご丁寧に今あるネームサーバを削除してこれを追加しろ、と出してくれるので従う。</p><p><figure><a href=images/index/2023-12-29-20-20-55.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-20-55_hu30c64b3a5876c7af61987bd138a06367_273540_500x500_fit_q80_h2_box_3.webp width=500 height=411><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-20-55_hu30c64b3a5876c7af61987bd138a06367_273540_500x500_fit_q80_bgffffff_box_3.jpg alt="Google DomainsのカスタムDNSサーバ画面とCloudflare registrerのネームサーバの変更画面" width=500 height=411 loading=lazy></picture></a><figcaption>Google DomainsのカスタムDNSサーバ画面とCloudflare registrerのネームサーバの変更画面</figcaption></figure></p><p>後はクイックスタートアップを適当に済ませる。</p><p>完了するとWebサイトの画面に遷移する。この画面が出ている間はまだネームサーバの変更が反映されてない。</p><p><figure><a href=images/index/2023-12-29-20-27-03.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-27-03_hu2c9afd2de9b164438e1da6f480d20ba9_121265_500x500_fit_q80_h2_box_3.webp width=431 height=500><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-27-03_hu2c9afd2de9b164438e1da6f480d20ba9_121265_500x500_fit_q80_bgffffff_box_3.jpg width=431 height=500 loading=lazy></picture></a></figure></p><p>ボタンを押して催促したら5分ほどでメールがきた。</p><p>「[Cloudflare]: fukasawah.dev is now active on a Cloudflare Free plan」といったメールが届く。ひとまずこれでOK。</p><h3 id=移管>移管</h3><p><figure><a href=images/index/2023-12-29-20-32-51.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-32-51_hu923055e30fb1fb5dc0bd946cb840919b_93355_500x500_fit_q80_h2_box_3.webp width=500 height=476><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-32-51_hu923055e30fb1fb5dc0bd946cb840919b_93355_500x500_fit_q80_bgffffff_box_3.jpg width=500 height=476 loading=lazy></picture></a></figure></p><p>「Cloudflareに移管」というリンクがあったのでクリックしてみたが、すぐできないらしいく次の画面になった。</p><p><figure><a href=images/index/2023-12-29-20-33-38.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-33-38_hu86011ac89618b8a4e5340124db40fb68_51122_500x500_fit_q80_h2_box_3.webp width=500 height=276><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-33-38_hu86011ac89618b8a4e5340124db40fb68_51122_500x500_fit_q80_bgffffff_box_3.jpg width=500 height=276 loading=lazy></picture></a></figure></p><p>Google domainsのほうでロックを解除する必要があるらしい？</p><p><a href=https://support.google.com/domains/answer/3290306>https://support.google.com/domains/answer/3290306</a></p><p>確認したらロックされていたので解除する。</p><p><figure><a href=images/index/2023-12-29-20-38-08.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-38-08_huece2e5cf3684602e8c154e4ef9cbf615_43975_500x500_fit_q80_h2_box_3.webp width=500 height=353><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-20-38-08_huece2e5cf3684602e8c154e4ef9cbf615_43975_500x500_fit_q80_bgffffff_box_3.jpg width=500 height=353 loading=lazy></picture></a></figure></p><p>RTA in JapanでテトリスDXのトーナメントを見ていたら(30分ほどしたら)できるようになってたが、支払い方法を設定していなかったので設定する。</p><p><figure><a href=images/index/2023-12-29-21-08-07.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-08-07_hu481aa048019e2eb1df8281f8f1ca08c1_154405_500x500_fit_q80_h2_box_3.webp width=378 height=500><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-08-07_hu481aa048019e2eb1df8281f8f1ca08c1_154405_500x500_fit_q80_bgffffff_box_3.jpg width=378 height=500 loading=lazy></picture></a></figure></p><p>支払方法を設定して次に進んだところ、承認コードをリクエストする必要があった。</p><p><figure><a href=images/index/2023-12-29-21-12-38.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-12-38_hu0469efa7566a882a2bd9a6e4503f267b_148407_500x500_fit_q80_h2_box_3.webp width=417 height=500><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-12-38_hu0469efa7566a882a2bd9a6e4503f267b_148407_500x500_fit_q80_bgffffff_box_3.jpg width=417 height=500 loading=lazy></picture></a></figure></p><p>Google domains（移管元）からロック解除のすぐ下から行える「認証コードを取得」から承認コードを得る。
発行したらCloudflareのほうに戻り、承認コードを入力するとチェック処理が行われる。チェックが通ったら「確認して続行する」を押す。</p><p><figure><a href=images/index/2023-12-29-21-17-17.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-17-17_hu1166f61d43ec6db29822737bb5051d55_164394_500x500_fit_q80_h2_box_3.webp width=339 height=500><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-17-17_hu1166f61d43ec6db29822737bb5051d55_164394_500x500_fit_q80_bgffffff_box_3.jpg width=339 height=500 loading=lazy></picture></a></figure></p><p>連絡先情報はとりあえず自分のものを入力する。</p><p>完了すると、ドメイン登録と支払いとメール認証の3つのメールほど届く。このうち「[Cloudflare]: Please verify your email address」のメール認証は対応しておく。</p><p>この状態ではまだ移管作業は終わっていない。</p><p><figure><a href=images/index/2023-12-29-21-28-10.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-28-10_hu2e2dfb40f7ae844e78694ceaa3e6f8e5_106674_500x500_fit_q80_h2_box_3.webp width=500 height=277><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-28-10_hu2e2dfb40f7ae844e78694ceaa3e6f8e5_106674_500x500_fit_q80_bgffffff_box_3.jpg alt=ステータスが「転送を保留中」となっている間は移管元の承認作業が必要 width=500 height=277 loading=lazy></picture></a><figcaption>ステータスが「転送を保留中」となっている間は移管元の承認作業が必要</figcaption></figure></p><p>しばらくすると、Google Domains（移管元）から「Google Domains からの移管リクエストを確認する」というメールが来るので対応する。メールのリンク先の「移管」するボタンを押すだけ。</p><p>しばらくすると、Cloudflareから「Your transfer to Cloudflare Registrar has completed!」というメールが来る。これをもって移管が完了。</p><p><figure><a href=images/index/2023-12-29-21-32-27.png target=_blank onclick=showOverlay(event)><picture><source type=image/webp srcset=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-32-27_hu188b945422581ed972007e27403b92e7_106551_500x500_fit_q80_h2_box_3.webp width=500 height=274><img src=/posts/2023/12/29/domain-transfer-to-cloudflare-registrer/images/index/2023-12-29-21-32-27_hu188b945422581ed972007e27403b92e7_106551_500x500_fit_q80_bgffffff_box_3.jpg alt=ステータスが「アクティブ」になった width=500 height=274 loading=lazy></picture></a><figcaption>ステータスが「アクティブ」になった</figcaption></figure></p><h2 id=蛇足>蛇足</h2><h3 id=cloudflareでドメイン絡みで何ができるか>Cloudflareでドメイン絡みで何ができるか？</h3><p>気になるところを調べた</p><p>カスタムネームサーバはBusinessプランにしないといけないらしい…Azure DNSを使いたいとなってもタダではできないということに。残念。</p><p>DNSにはMXレコードがあるが、メール関連のサービスはあるのか？と思ったら<a href=https://developers.cloudflare.com/email-routing/>Email Routing</a>というサービスもやってるらしい。<a href=https://developers.cloudflare.com/email-routing/email-workers/>Cloudflare Workersの機能を利用できる</a>らしくちょっとした動的なフィルタやフォワード処理ができる模様。</p><p>CDNとかその辺はおいおいやります…</p><h3 id=whoisを確認してみた>whoisを確認してみた</h3><p>連絡先を本物の住所を入れたりしてしまったが、どれぐらい伏せられるのか確認したところ、国と都道府県以外は伏せられる模様。まぁ良いでしょう。</p><p><a href=https://who.is/whois/fukasawah.dev>https://who.is/whois/fukasawah.dev</a></p><footer><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://fukasawah.github.io/tags/domain>#Domain</a></span>
<span class=tag><a href=https://fukasawah.github.io/tags/cloudflare>#Cloudflare</a></span>
<span class=tag><a href=https://fukasawah.github.io/tags/>#</a></span></p><p>Created at: 2023-12-29 21:59 +0900<br>Updated at: 2023-12-29 21:59 +0900 <a href=https://github.com/fukasawah/blog/commit/08df635d43d9d93150f238851ab37f6f011af10b target=_blank rel=noopener>#08df635</a></p><p><a href=https://fukasawah.github.io/posts/2024/05/13/docker-on-wsl-from-vscode/><span title="VSCodeの機能拡張Dev ContainersからWSL上にDockerをインストールする">&lt; Next</span></a>
|
<a href=https://fukasawah.github.io/posts/><span title=Posts>Posts</span></a>
|
<a href=https://fukasawah.github.io/posts/2023/08/09/remove-disqus/><span title=Disqusをやめた>Prev ></span></a></p></footer></article><script src=https://fukasawah.github.io/js/theme-posts.min.526bf4c8dff80bed936c62a06f7bc8c02703fad621e3dd2ba243812d43c40b98397ff1951e5905c790b97c38633d42a0e35bf5314fdf9fcfbce31b18181b8ae3.js integrity="sha512-Umv0yN/4C+2TbGKgb3vIwCcD+tYh490rokOBLUPEC5g5f/GVHlkFx5C5fDhjPUKg41v1MU/fn8+84xsYGBuK4w==" defer></script></main><footer><p>&copy; 2024 <a href=https://fukasawah.github.io/>fukasawah</a></p></footer></body></html>